define("#position/0.9.1/position",["jquery"],function(a,b){function i(a){a=n(a)||{},a.nodeType&&(a={element:a});var b=n(a.element)||d;if(b.nodeType!==1)throw"pinObject.element is invalid.";var c={element:b,x:a.x||0,y:a.y||0},g=b===d||b._id==="VIEWPORT";return c.offset=function(){return f?{left:0,top:0}:g?{left:e(document).scrollLeft(),top:e(document).scrollTop()}:e(b).offset()},c.size=function(){var a=g?e(window):e(b);return{width:a.outerWidth(),height:a.outerHeight()}},c}function j(a){a.x=k(a.x,a,"width"),a.y=k(a.y,a,"height")}function k(a,b,c){a+="",a=a.replace(/px/gi,""),/\D/.test(a)&&(a=a.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),a.indexOf("%")!==-1&&(a=a.replace(/(\d+\.?\d+)%/gi,function(a,d){return b.size()[c]*(d/100)}));if(/[+\-*\/]/.test(a))try{a=(new Function("return "+a))()}catch(d){throw"Invalid position value: "+a}return m(a)}function l(a){var b=a.offsetParent();b[0]===document.documentElement&&(b=e(document.body)),g&&b.css("zoom",1);var c=b[0]===document.body?{left:0,top:0}:b.offset();return c.top+=m(b.css("border-top-width")),c.left+=m(b.css("border-left-width")),c}function m(a){return parseFloat(a,10)||0}function n(a){return typeof a=="string"?a=e(a)[0]:a instanceof e&&(a=a[0]),a}var c=b,d={_id:"VIEWPORT",nodeType:1},e=a("jquery"),f=!1,g=e.browser.msie&&e.browser.version==6,h=e.browser.msie&&e.browser.version==8;c.pin=function(a,b){a=i(a),b=i(b);var c=e(a.element);c.css("position")!=="fixed"||g?(c.css("position","absolute"),f=!1):f=!0,j(a),j(b);var d=l(c),h=b.offset(),k=h.top+b.y-a.y-d.top,m=h.left+b.x-a.x-d.left;c.css({left:m,top:k})},c.center=function(a,b){c.pin({element:a,x:"50%",y:"50%"},{element:b,x:"50%",y:"50%"})},c.VIEWPORT=d});