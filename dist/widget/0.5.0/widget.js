define("#widget/0.5.0/widget",["base","$","./view","./action","./daparser"],function(a,b,c){var d=a("base"),e=a("$"),f=a("./view"),g=a("./action"),h=a("./daparser"),i=Array.prototype.slice,j=e.prototype.on;c.exports=d.extend({view:null,initialize:function(a){this.initOptions(a),this.setOptions(a),this._initView(a),this._parseAction(a),this.beforeCreate(),this.bindAction(),this.trigger("initialized"),this.postCreate()},_initView:function(a){this.view=new f(a),this.trigger("view")},initOptions:function(){},beforeCreate:function(){},_parseAction:function(a){var b=this.action=new g(this,a),c},postCreate:function(){},onElement:function(a,b,c){j.apply(this.getElement(),i.call(arguments,0))},_applyAction:function(a){var b=this;e.isFunction(a)&&a.call(b,b.getElement(),b)},aroundFn:function(a,b,c){if(!b&&!c)return;var d=this,e=this[a],f=function(){b&&d.trigger(b,d),e.apply(d,i.call(arguments,0)),c&&d.trigger(arter,d)};this[a]=f},getElement:function(){return this.view.getElement()},getId:function(){return this.id||(this.id="widget_"+e.guid++)},destroy:function(){this.off();var a=this.getElement();a&&a.off(),this.action.destroy()}})});