define("#switchable/0.9.0/switchable",["jquery","underscore","widget","base","./extra/utils","./plugins/effects","./plugins/autoplay","./plugins/circular"],function(a,b,c){function x(a){return/^\w/.test(a)?r+a:a}var d=a("jquery"),e=a("underscore"),f=a("widget"),g=a("base"),h=a("./extra/utils"),i=a("./plugins/effects"),j=a("./plugins/autoplay"),k=a("./plugins/circular"),l={silent:!0},m="display",n="block",o="none",p="forward",q="backward",r=".",s="ui-switchable-",t=s+"nav",u=s+"content",v=s+"trigger-internal",w=s+"panel-internal",y=c.exports=f.extend({attrs:{navClass:null,contentClass:u,triggers:[],panels:[],triggerType:"hover",delay:100,activeTriggerClass:"ui-active",activeIndex:0,step:1,effect:o,easing:"easeNone",duration:300,viewSize:[],plugins:[]},events:function(){var a={};return a["click ."+v]="_onTrigger",this.get("triggerType")==="hover"&&(a["mouseenter ."+v]="_onTrigger",a["mouseleave ."+v]=function(a){a.stopPropagation(),this._cancelSwitchTimer()}),a},initProps:function(){this.delay=parseFloat(this.get("delay"))||100,this.duration=parseFloat(this.get("duration"))||300},setup:function(){this._initPanels(),this._initTriggers(),this._bindAction(),this._postCreate()},_bindAction:function(){var a=this;this.on("change:activeIndex",this._switch,this),this.before("switchTo"),this.after("switchTo")},$:function(a){return e.isString(a)&&(a=x(a)),this._parent("$").call(this,a)},_initPanels:function(){var a,b=this.panels=this.$(this.get("panels"));b.length==0&&(a=this.$(this.get("contentClass")),a.length&&(b=this.panels=a.children()));if(!(b.length>0))throw new Error("Switchable init panels error!");this.content=d(b[0].parentNode);for(var c=0,e=b.length;c<e;c++)d(b[c]).addClass(w);this._resetLength()},_initTriggers:function(){var a,b,c,e=this.triggers=this.$(this.get("triggers"));e.length==0?(this.get("navClass")?(a=this.$(this.get("navClass")),e=a.children(),e.length||(c=this.length,a=z.call(this,a,c),this.element.append(a))):a=this.$(t),this.nav=a,e=this.triggers=a.children()):e.length>0&&(this.nav=d(e[0].parentNode));if(e.length)for(b=0,c=e.length;b<c;b++)d(e[b]).addClass(v)},_onTrigger:function(a){a.stopPropagation();var b=a.currentTarget,c=a.type,d=e.indexOf(this.triggers,b);c==="click"?this._onFocusTrigger(d):c==="mouseenter"&&this._onMouseEnterTrigger(d)},_onFocusTrigger:function(a){this._cancelSwitchTimer(),this.set("activeIndex",a)},_onMouseEnterTrigger:function(a){var b=this;this.switchTimer=h.later(function(){b.set("activeIndex",a)},b.delay)},_triggerIsValid:function(a,b){return a!==b},_cancelSwitchTimer:function(){this.switchTimer&&(this.switchTimer.cancel(),this.switchTimer=undefined)},_resetLength:function(){return this.length=this._getLength()},_getLength:function(a){return a===undefined&&(a=this.panels.length),Math.ceil(a/this.get("step"))},_postCreate:function(){var a=parseInt(this.get("activeIndex"));a>this.panels.length&&(a=0),this._install(i),this._install(j),this._install(k),this.switchTo(a)},_switch:function(a,b){var c=a>b?p:q;this.switchTo(a,b,c)},switchTo:function(a,b,c){var d=this.triggers;return this._triggerIsValid(a,b)?(this._switchTrigger(a,b),this._switchView(a,b,c),this):this},_switchTrigger:function(a,b){var c=this.triggers;if(c.length<1)return;var e=c[a],f=c[b],g=this.get("activeTriggerClass");f&&d(f).removeClass(g),d(e).addClass(g)},_getFromToPanels:function(a,b){var c,d,e=this.get("step"),f=this.panels,g,h;return b>-1?(g=b*e,h=(b+1)*e,c=f.slice(g,h)):c=null,d=f.slice(a*e,(a+1)*e),{fromPanels:c,toPanels:d}},_switchView:function(a,b,c){var e=this,f=this._getFromToPanels(a,b),g=f.fromPanels,h=f.toPanels;g&&d(g).css(m,o),d(h).css(m,n)},prev:function(){var a=this.get("activeIndex"),b=(a-1+this.length)%this.length;this.set("activeIndex",b,l),this.switchTo(b,a,q)},next:function(){var a=this.get("activeIndex"),b=(a+1)%this.length;this.set("activeIndex",b,l),this.switchTo(b,a,p)},_parent:function(a){return y.superclass[a]},_install:function(a){var b=a.attrs;if(b)for(var c in b)b.hasOwnProperty(c)&&(this.get(c)||this.set(c,b[c],l));a.methods&&e.extend(this,a.methods),a.install&&a.install.call(this),this.get("plugins").push(a)},destroy:function(){var a=this.get("plugins"),b;for(var c=0,d=a.length;c<d;c++)b=a[c],b.destroy&&b.destroy.call(this);this.nav=null,this.content=null,this.triggers=[],this.panels=[],this.off(),y.superclass.destroy.call(this)}}),z=function(a,b){var c=this.activeIndex;a.length||(a=d("<ul>"),a.addClass(this.get("navClass")),this.element.append(a));var e,f;for(f=0;f<b;f++)e=d("<li>"),f===c&&e.addClass(this.get("activeTriggerClass")),e.html(f+1),a.append(e);return a}});