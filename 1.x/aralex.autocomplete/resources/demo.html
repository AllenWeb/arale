<!DOCTYPE html>
<html>
<head>
    <title>AutoComplete Demo</title>
    <style type="text/css" media="screen" id="test">
        .div{
            width:300px;
            height:200px;
            border:2px solid blue;
            left:110px;
            padding:10px;
        }
        .keystring {
            color: #FF6600;
        }
    </style>
     <script type="text/javascript">
           araleConfig = {
            //combo config
            combo_host: 'assets.dev.alipay.net',
            combo_path: '/ar/??',
            depSrc: true            
        }
     </script>
     <!--
    <script type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'></script>
    -->
    <!--
    <script type="text/javascript" charset="utf-8" src="http://static.dev.alipay.net/ar/aralex.base-1.0-src.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://localhost:2000/${artifactId}-${version}-src.js"></script>
    -->
    <script type="text/javascript" charset="utf-8" src="http://assets.dev.alipay.net/ar/arale.core-1.1.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://assets.dev.alipay.net/ar/${artifactId}-${version}-index.js"></script>
</head>
<body>
    <div id="d1">
        <div style="padding:17px;border:1px solid red;width:400px">
            <div style="padding:10px;">
                <form action="" onsubmit="javascript:return false">
                    test autocomplete:<input name="textinput" id="textinput" type="text" size="50" />
                    <br/>
                    <input type="submit" value="save"/>
                </form>
            </div>
        </div>
    </div>
    <a href="#" id="test1">aa</a>
    <script type="text/javascript">
        var url1 = 'http://static.dev.alipay.net/js/cityJson.data';
        var url2 = 'http://localhost/alipay-project/01.Arale/trunk/js/common/aralex/autocomplete/resources/citydata.js';

        var url3 = 'http://dev.assets.alipay.net/ar/demo/cityJson_g.data';
        var url4 = 'http://192.168.85.1/alipay-project/01.Arale/trunk/js/common/aralex/autocomplete/resources/cmsdata.js';
        var url5 = 'http://dev.assets.alipay.net/ar/demo/cmsdata.js';
        $Loader.use('aralex.autocomplete', function() {
                
            var autocomplete = new aralex.autocomplete.AutoComplete({
                textInput: $('textinput'),
                datasource: {
                    getData: function(inputValue, callback) {
                        var data = [];
                        
                        if ($S(inputValue).trim().length == 0) {
                            data = [{value: '请输入数据'}];
                        } else {
                            console.log("ds get data---->");
                            for (var i = 0; i < 10; i++) {
                                data[i] = {value: inputValue+i};
                            }
                        }
                        if (inputValue == 'e') {
                            callback.call(null, {items: []});
                        } else {
                            callback.call(null, {items: data});
                        }
                    }
                }
            });
  
        });
               /**
        $Loader.use("aralex.autocomplete",function(){
            etao = function() {
                $Ajax.get(url1, function(data) {
                    var str = "var json="+data.text;
                    eval(str);
                    autocomplete = new aralex.autocomplete.AutoComplete({
                        textInput:'textinput',
                        data: json,
                        change: function(value) {
                            console.log("fetch---->"+value);
                        } 
                    }); 
                    $E.subscribe(autocomplete.getBlurTopic(), function() {
                        //var ap = autocomplete;
                        //ap.setValidValue();
                        //1当用户blur的时,jian'c检查数据是否是需要的数据,
                        //2.如果是,sshen'm什么也不做,如果不是找到最近选中的数据.的第一个填充进去
                    });
                });
            };
            cms = function() {
                autocomplete = new aralex.autocomplete.AjaxAutoComplete({
                    textInput:'textinput',
                    url: url5,
                    change: function(value) {
                        console.log("fetch---->"+value);
                    }
                }); 
                $E.subscribe(autocomplete.getSelectTopic(), function(url){
                    window.open(url);
                });
            };
            etao();
        });
        **/
    </script>
</body>
</html>

