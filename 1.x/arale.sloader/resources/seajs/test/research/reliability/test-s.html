<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>test-s</title>
</head>
<body>

<div id="o"></div>

<script>var scriptsNum = 0;</script>

<!-- for testing cache -->
<script src="c.js"></script>
<script src="d.js"></script>
<script src="f.js"></script>

<script>
// util.js
function complete(s) {
  if (self.top != self && ~location.host.indexOf('.com')) {
    req(s);
  }
  else {
    print(s);
  }
}

function req(s) {
  s += location.href.charAt(location.href.length - 1); // UA
  var img = new Image();
  img.src = 'http://stats.tudou.com/e/tmp/a10/?v=1&s=16015||||||' + s + '|||';
}

function print(txt) {
  var d = document.createElement('div');
  d.innerHTML = txt;
  document.getElementById('o').appendChild(d);
}


/* SeaJS v1.1.0 | seajs.com | MIT Licensed */
this.seajs={_seajs:this.seajs};seajs.version="1.1.0";seajs._data={config:{debug:"",preload:[]},memoizedMods:{}};seajs._util={};seajs._fn={};
(function(a){var c=Object.prototype.toString,b=Array.prototype;a.isString=function(a){return c.call(a)==="[object String]"};a.isObject=function(a){return a===Object(a)};a.isFunction=function(a){return c.call(a)==="[object Function]"};a.isArray=Array.isArray||function(a){return c.call(a)==="[object Array]"};a.indexOf=b.indexOf?function(a,e){return a.indexOf(e)}:function(a,e){for(var c=0,b=a.length;c<b;c++)if(a[c]===e)return c;return-1};var h=a.forEach=b.forEach?function(a,e){a.forEach(e)}:function(a,
e){for(var c=0,b=a.length;c<b;c++)e(a[c],c,a)};a.map=b.map?function(a,c){return a.map(c)}:function(a,c){var b=[];h(a,function(a,j,d){b.push(c(a,j,d))});return b};a.filter=b.filter?function(a,c){return a.filter(c)}:function(a,c){var b=[];h(a,function(a,j,d){c(a,j,d)&&b.push(a)});return b};a.unique=function(a){var c=[],b={};h(a,function(a){b[a]=1});if(Object.keys)c=Object.keys(b);else for(var g in b)b.hasOwnProperty(g)&&c.push(g);return c};a.now=Date.now||function(){return(new Date).getTime()}})(seajs._util);
(function(a,c){a.error=function(){throw Array.prototype.join.call(arguments," ");};a.log=function(){c.config.debug&&typeof console!=="undefined"&&console.log(Array.prototype.join.call(arguments," "))}})(seajs._util,seajs._data);
(function(a,c,b,h){function k(a){a=a.match(/.*(?=\/.*$)/);return(a?a[0]:".")+"/"}function e(m){m=m.replace(/([^:\/])\/+/g,"$1/");if(m.indexOf(".")===-1)return m;for(var c=m.split("/"),f=[],b,d=0,e=c.length;d<e;d++)b=c[d],b===".."?(f.length===0&&a.error("Invalid path:",m),f.pop()):b!=="."&&f.push(b);return f.join("/")}function l(a){a=e(a);/#$/.test(a)?a=a.slice(0,-1):a.indexOf("?")===-1&&!/\.(?:css|js)$/.test(a)&&(a+=".js");return a}function g(a){if(a.charAt(0)==="#")return a.substring(1);var f;if(d(a)&&
(f=i.alias)){var c=a.split("/"),b=c[0];f.hasOwnProperty(b)&&(c[0]=f[b],a=c.join("/"))}return a}function j(a){return~a.indexOf("://")||a.indexOf("//")===0}function d(a){var f=a.charAt(0);return a.indexOf("://")===-1&&f!=="."&&f!=="/"}var i=c.config,f={},c=h.location,n=c.protocol+"//"+c.host+function(a){a.charAt(0)!=="/"&&(a="/"+a);return a}(c.pathname);~n.indexOf("\\")&&(n=n.replace(/\\/g,"/"));a.dirname=k;a.realpath=e;a.normalize=l;a.parseAlias=g;a.parseMap=function(c,b){b=b||i.map||[];if(!b.length)return c;
var d=c;a.forEach(b,function(a){a&&a.length>1&&(d=d.replace(a[0],a[1]))});f[d]=c;return d};a.unParseMap=function(a){return f[a]||a};a.id2Uri=function(a,c){var a=g(a),c=c||n,f;j(a)?f=a:a.indexOf("./")===0||a.indexOf("../")===0?(a=a.replace(/^\.\//,""),f=k(c)+a):f=a.charAt(0)==="/"&&a.charAt(1)!=="/"?c.replace(/^(\w+:\/\/[^\/]*)\/?.*$/,"$1")+a:i.base+"/"+a;return l(f)};a.isAbsolute=j;a.isTopLevel=d;a.pageUrl=n})(seajs._util,seajs._data,seajs._fn,this);
(function(a,c){function b(f,b){function d(){if(!d.isCalled)d.isCalled=true,clearTimeout(e),b()}f.nodeName==="SCRIPT"?h(f,d):k(f,d);var e=setTimeout(function(){a.log("time is out:",f.src);d()},c.config.timeout)}function h(a,c){a.onload=a.onerror=a.onreadystatechange=function(b,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState)){a.onload=a.onerror=a.onreadystatechange=null;if(a.parentNode){try{if(a.clearAttributes)a.clearAttributes();else for(var e in a)delete a[e]}catch(j){}l.removeChild(a)}a=
void 0;c()}}}function k(a,c){a.attachEvent?a.attachEvent("onload",c):setTimeout(function(){e(a,c)},0)}function e(a,c){if(!c.isCalled){var b;if(j)a.sheet&&(b=true);else if(a.sheet)try{a.sheet.cssRules&&(b=true)}catch(d){d.code===1E3&&(b=true)}setTimeout(function(){b?c():e(a,c)},1)}}var l=document.head||document.getElementsByTagName("head")[0]||document.documentElement,g=navigator.userAgent,j=~g.indexOf("AppleWebKit");a.getAsset=function(a,c,e){var j=/\.css(?:\?|$)/i.test(a),i=document.createElement(j?
"link":"script");if(e)i.charset=e;b(i,c);j?(i.rel="stylesheet",i.href=a,l.appendChild(i)):(i.async="async",i.src=a,d=i,l.insertBefore(i,l.firstChild),d=null)};var d,i;a.getCurrentScript=function(){if(d)return d;if(i&&i.readyState==="interactive")return i;for(var a=l.getElementsByTagName("script"),c=0;c<a.length;c++){var b=a[c];if(b.readyState==="interactive")return i=b}};a.getScriptAbsoluteSrc=function(a){return a.hasAttribute?a.src:a.getAttribute("src",4)};a.isOpera=~g.indexOf("Opera")})(seajs._util,
seajs._data);(function(a){a.Module=function(a,b,h){this.id=a;this.dependencies=b||[];this.factory=h}})(seajs._fn);
(function(a,c,b){function h(h,e,l){var g=arguments.length;g===1?(l=h,h=void 0):g===2&&(l=e,e=void 0,a.isArray(h)&&(e=h,h=void 0));if(!a.isArray(e)&&a.isFunction(l)){for(var g=l.toString(),j=/(?:^|[^.])\brequire\s*\(\s*(["'])([^"'\s\)]+)\1\s*\)/g,d=[],i,g=g.replace(/(?:^|\n|\r)\s*\/\*[\s\S]*?\*\/\s*(?:\r|\n|$)/g,"\n").replace(/(?:^|\n|\r)\s*\/\/.*(?:\r|\n|$)/g,"\n");i=j.exec(g);)i[2]&&d.push(i[2]);e=a.unique(d)}if(h)var f=a.id2Uri(h);else document.attachEvent&&!a.isOpera&&((g=a.getCurrentScript())&&
(f=a.unParseMap(a.getScriptAbsoluteSrc(g))),f||a.log("Failed to derive url of the following anonymous module:",l.toString()));g=new b.Module(h,e,l);f?a.memoize(f,g):c.anonymousMod=g}h.cmd={};b.define=h})(seajs._util,seajs._data,seajs._fn);
(function(a,c,b){function h(b){var d=this.context,i,f;a.isObject(b)?(f=b,i=f.id):a.isString(b)&&(i=g.resolve(b,d),f=c.memoizedMods[i]);if(!f)return null;if(e(d,i))return a.log("Found cyclic dependencies:",i),f.exports;if(!f.exports)if(b=f,d={uri:i,parent:d},i=b.factory,b.exports={},delete b.factory,delete b.ready,a.isFunction(i)){if(d=i(k(d),b.exports,b),d!==void 0)b.exports=d}else if(i!==void 0)b.exports=i;return f.exports}function k(a){function b(a){return h.call(c,a)}var c={context:a||{}};b.constructor=
h;for(var e in g)g.hasOwnProperty(e)&&e.charAt(0)!=="_"&&function(a){b[a]=function(){return g[a].apply(c,l.call(arguments))}}(e);return b}function e(a,b){return a.uri===b?true:a.parent?e(a.parent,b):false}var l=Array.prototype.slice,g=h.prototype;g.resolve=function(b,c){return a.isString(b)?a.id2Uri(b,(c||this.context||{}).uri):a.map(b,function(a){return g.resolve(a,c)})};g.async=function(a,c){b.load(a,c,this.context)};g.load=function(b,c,e){a.getAsset(b,c,e)};b.Require=h;b.createRequire=k})(seajs._util,
seajs._data,seajs._fn);
(function(a,c,b){function h(a){var b=q.preload,c=b.length;c?(q.preload=b.slice(c),k(b,function(){h(a)})):a()}function k(d,f,i){h(function(){a.isString(d)&&(d=[d]);var h=p.resolve(d,i);e(h,function(){var e=b.createRequire(i),d=a.map(h,function(a){return e(c.memoizedMods[a])});f&&f.apply(null,d)})})}function e(a,b){var c=d(a);if(c.length===0)j(c),b();else for(var f=0,g=c.length,k=g;f<g;f++)(function(a){function d(){h(function(){var d=o[a];if(d){var f=d.dependencies;if(f.length)f=d.dependencies=p.resolve(f,
{uri:d.id});var h=f.length;if(h)f=i(a,f),h=f.length;h&&(k+=h,e(f,function(){k-=h;k===0&&(j(c),b())}))}--k===0&&(j(c),b())})}o[a]?d():l(a,d)})(c[f])}function l(b,d){n[b]?m[b].push(d):(m[b]=[d],n[b]=true,p.load(a.parseMap(b),function(){var d=c.anonymousMod;if(d)o[b]||g(b,d),c.anonymousMod=null;n[b]&&delete n[b];m[b]&&(a.forEach(m[b],function(a){a()}),delete m[b])},c.config.charset))}function g(a,b){b.id=a;o[a]=b}function j(b){a.forEach(b,function(a){if(o[a])o[a].ready=true})}function d(b){return a.filter(b,
function(a){a=o[a];return!a||!a.ready})}function i(b,c){return a.filter(c,function(a){return!f(o[a],b)})}function f(b,c){if(!b||b.ready)return false;var d=b.dependencies||[];if(d.length)if(~a.indexOf(d,c))return true;else for(var e=0;e<d.length;e++)if(f(o[d[e]],c))return true;return false}var n={},m={},o=c.memoizedMods,q=c.config,p=b.Require.prototype;a.memoize=g;b.load=k})(seajs._util,seajs._data,seajs._fn);
(function(a,c,b,h){function k(a,b){a&&a!==b&&c.error("Config is conflicted:",a,b)}var e=b.config,l="seajs-ts="+c.now(),b=document.getElementById("seajsnode");b||(b=document.getElementsByTagName("script"),b=b[b.length-1]);var g=c.getScriptAbsoluteSrc(b)||c.pageUrl,g=c.dirname(g);c.loaderDir=g;var j=g.match(/^(.+\/)seajs\/[\d\.]+\/$/);j&&(g=j[1]);e.base=g;if(b=b.getAttribute("data-main"))c.isTopLevel(b)&&(b="./"+b),e.main=b;e.timeout=2E4;h.config=function(b){for(var i in b){var f=e[i],g=b[i];if(f&&
i==="alias")for(var j in g)g.hasOwnProperty(j)&&(k(f[j],g[j]),f[j]=g[j]);else f&&(i==="map"||i==="preload")?(c.isArray(g)||(g=[g]),c.forEach(g,function(a){a&&f.push(a)})):e[i]=g}if((b=e.base)&&!c.isAbsolute(b))e.base=c.id2Uri("./"+b+"#");if(e.debug===2)e.debug=1,h.config({map:[[/.*/,function(a){a.indexOf("seajs-ts=")===-1&&(a+=(a.indexOf("?")===-1?"?":"&")+l);return a}]]});if(e.debug)a.debug=e.debug;return this}})(seajs,seajs._util,seajs._data,seajs._fn);
(function(a,c,b,h){var a=a.config,k={},e=c.loaderDir;c.forEach("base,map,text,json,coffee,less".split(","),function(a){a="plugin-"+a;k[a]=e+a});b.config({alias:k});if(~h.location.search.indexOf("seajs-debug")||~document.cookie.indexOf("seajs=1"))b.config({debug:2}),a.preload.push("plugin-map")})(seajs._data,seajs._util,seajs._fn,this);
(function(a,c,b){b.use=function(a,c){b.load(a,c)};(c=c.config.main)&&b.use([c]);(function(c){if(c){for(var k={0:"config",1:"use",2:"define"},e=0;e<c.length;e+=2)b[k[c[e]]].apply(a,c[e+1]);delete a._seajs}})((a._seajs||0).args)})(seajs,seajs._data,seajs._fn);
(function(a,c,b,h){if(a._seajs)h.seajs=a._seajs;else{a.config=b.config;a.use=b.use;var k=h.define;h.define=b.define;a.noConflict=function(c){h.seajs=a._seajs;if(c)h.define=k,a.define=b.define;return a};a.pluginSDK={util:a._util,data:a._data};if(c=c.config.debug)a.debug=!!c;delete a._util;delete a._data;delete a._fn;delete a._seajs}})(seajs,seajs._data,seajs._fn,this);

</script>

<script>
(function() {
  if (scriptsNum !== 3) return;
  complete('s-init');

  window.onerror = function() {
    complete('s-error');
  };


  // test
  seajs.use(['a', 'b', 'c', 'd', 'e', 'f'], function() {
    var s = '';

    for (var i = 0; i < arguments.length; i++) {
      s += (arguments[i] || 0).name ? arguments[i].name : '_';
    }

    complete('s-' + s);
  });

})(this);
</script>
</body>
</html>